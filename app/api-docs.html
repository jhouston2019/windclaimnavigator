<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - Claim Navigator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Source+Sans+3:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/app/assets/css/style.css">
    <link rel="stylesheet" href="/app/assets/css/design-system.css">
    
  <link rel="stylesheet" href="/app/assets/css/tool-visual-alignment.css">
</head>
<body>
    <header class="header">
        <div class="bar container">
            <div class="brand">
                <div class="logo"></div>
                <div>Claim Navigation AI</div>
            </div>
            <nav class="nav">
                <a href="/app/index.html">Home</a>
                <span>></span>
                <a href="/app/resource-center.html">Resource Center</a>
                <span>></span>
                <span>API Documentation</span>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="card">
            <h1 style="margin-top: 0; color: #ffffff;">Claim Navigator API Documentation</h1>
            <p style="color: rgba(255, 255, 255, 0.8);">Programmatic access to Claim Navigator services via REST API.</p>
        </div>

        <div class="card">
            <h2 style="color: #ffffff;">Authentication</h2>
            <p style="color: rgba(255, 255, 255, 0.8);">All API requests require authentication via Bearer token in the Authorization header:</p>
            <pre><code>Authorization: Bearer YOUR_API_KEY</code></pre>
            <p style="color: rgba(255, 255, 255, 0.8); margin-top: 1rem;">
                Get your API key from <a href="/app/settings/api-keys.html" style="color: #dbeafe;">Settings > API Keys</a>
            </p>
        </div>

        <div class="card">
            <h2 style="color: #ffffff;">Base URL</h2>
            <pre><code>https://your-site.netlify.app/.netlify/functions/api</code></pre>
        </div>

        <div class="card">
            <h2 style="color: #ffffff;">Response Format</h2>
            <p style="color: rgba(255, 255, 255, 0.8);">All responses follow this format:</p>
            <pre><code>{
  "success": true,
  "data": { ... },
  "error": null
}</code></pre>
            <p style="color: rgba(255, 255, 255, 0.8); margin-top: 1rem;">Error responses:</p>
            <pre><code>{
  "success": false,
  "data": null,
  "error": {
    "message": "Error description",
    "code": "ERROR_CODE"
  }
}</code></pre>
        </div>

        <div class="card">
            <h2 style="color: #ffffff;">Rate Limits</h2>
            <p style="color: rgba(255, 255, 255, 0.8);">
                Default rate limit: <strong>100 requests per minute</strong> per API key.<br>
                Rate limit headers are included in responses:
            </p>
            <pre><code>X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1640995200</code></pre>
        </div>

        <div class="card">
            <h2 style="color: #ffffff;">Endpoints</h2>
            
            <!-- FNOL Create -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-post">POST</span>
                    /fnol/create
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Creates a new FNOL submission.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Request Body:</h4>
                <pre><code>{
  "policyholder": {
    "name": "John Doe",
    "email": "john@example.com",
    "phone": "+1-555-0123",
    "address": "123 Main St"
  },
  "policy": {
    "policyNumber": "POL-123456",
    "carrier": "State Farm"
  },
  "loss": {
    "date": "2025-01-15",
    "type": "Water Damage"
  },
  "property": { ... },
  "damage": { ... },
  "evidenceFiles": { ... }
}</code></pre>
                <h4 style="color: #ffffff; margin-top: 1rem;">Response:</h4>
                <pre><code>{
  "success": true,
  "data": {
    "fnol_id": "fnol_abc123",
    "pdf_url": "https://...",
    "status": "submitted",
    "submitted_at": "2025-01-28T10:00:00Z"
  }
}</code></pre>
            </div>

            <!-- Deadlines Check -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-post">POST</span>
                    /deadlines/check
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Checks statutory and carrier deadlines.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Request Body:</h4>
                <pre><code>{
  "state": "CA",
  "carrier": "State Farm",
  "claimType": "Property",
  "dateOfLoss": "2025-01-15"
}</code></pre>
                <h4 style="color: #ffffff; margin-top: 1rem;">Response:</h4>
                <pre><code>{
  "success": true,
  "data": {
    "statutory": [...],
    "carrier": [...],
    "user_defined": [...],
    "state": "CA",
    "generated_at": "2025-01-28T10:00:00Z"
  }
}</code></pre>
            </div>

            <!-- Compliance Analyze -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-post">POST</span>
                    /compliance/analyze
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Analyzes compliance and generates recommendations.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Request Body:</h4>
                <pre><code>{
  "state": "CA",
  "carrier": "State Farm",
  "claimType": "Property",
  "events": [...]
}</code></pre>
                <h4 style="color: #ffffff; margin-top: 1rem;">Response:</h4>
                <pre><code>{
  "success": true,
  "data": {
    "violations": [...],
    "deadlines": [...],
    "recommendations": [...],
    "risk_score": 75,
    "health_status": "elevated-risk",
    "analysis_date": "2025-01-28T10:00:00Z"
  }
}</code></pre>
            </div>

            <!-- Alerts List -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-get">GET</span>
                    /alerts/list
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Lists compliance alerts for user.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Query Parameters:</h4>
                <pre><code>?resolved=false&limit=50&offset=0</code></pre>
                <h4 style="color: #ffffff; margin-top: 1rem;">Response:</h4>
                <pre><code>{
  "success": true,
  "data": {
    "alerts": [...],
    "count": 5,
    "resolved": false,
    "limit": 50,
    "offset": 0
  }
}</code></pre>
            </div>

            <!-- Alerts Resolve -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-post">POST</span>
                    /alerts/resolve
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Resolves a compliance alert.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Request Body:</h4>
                <pre><code>{
  "alert_id": "alert_abc123"
}</code></pre>
            </div>

            <!-- Evidence Upload -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-post">POST</span>
                    /evidence/upload
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Uploads evidence file and auto-tags.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Request Body:</h4>
                <pre><code>{
  "file_url": "https://...",
  "file_name": "photo.jpg",
  "file_size": 1024000,
  "mime_type": "image/jpeg",
  "category": "photos"
}</code></pre>
            </div>

            <!-- Estimate Interpret -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-post">POST</span>
                    /estimate/interpret
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Interprets contractor estimate.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Request Body:</h4>
                <pre><code>{
  "file_url": "https://...",
  "loss_type": "Water Damage",
  "severity": "moderate",
  "areas": ["kitchen", "bathroom"]
}</code></pre>
            </div>

            <!-- Settlement Calc -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-post">POST</span>
                    /settlement/calc
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Calculates settlement analysis.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Request Body:</h4>
                <pre><code>{
  "initial_offer": 50000,
  "estimated_damage": 75000,
  "policy_limits": 100000,
  "deductible": 1000
}</code></pre>
            </div>

            <!-- Policy Compare -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-post">POST</span>
                    /policy/compare
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Compares two insurance policies.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Request Body:</h4>
                <pre><code>{
  "policy_a_url": "https://...",
  "policy_b_url": "https://..."
}</code></pre>
            </div>

            <!-- History Query -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-get">GET</span>
                    /history/query
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Queries settlement history database.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Query Parameters:</h4>
                <pre><code>?carrier=State%20Farm&state=CA&claim_type=Property&limit=50</code></pre>
            </div>

            <!-- Expert Find -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-get">GET</span>
                    /expert/find
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Finds expert witnesses.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Query Parameters:</h4>
                <pre><code>?specialty=Water%20Damage&state=CA&min_experience=10</code></pre>
            </div>

            <!-- Checklist Generate -->
            <div class="endpoint-card">
                <h3 style="margin-top: 0; color: #ffffff;">
                    <span class="endpoint-method method-post">POST</span>
                    /checklist/generate
                </h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Generates checklist tasks for a claim.</p>
                <h4 style="color: #ffffff; margin-top: 1rem;">Request Body:</h4>
                <pre><code>{
  "claim_id": "claim_abc123"
}</code></pre>
                <h4 style="color: #ffffff; margin-top: 1rem;">Response:</h4>
                <pre><code>{
  "success": true,
  "data": {
    "claim_id": "claim_abc123",
    "tasks": [...],
    "task_count": 8,
    "generated_at": "2025-01-28T10:00:00Z"
  }
}</code></pre>
            </div>
        </div>

        <div class="card">
            <h2 style="color: #ffffff;">Error Codes</h2>
            <table style="width: 100%; border-collapse: collapse; color: rgba(255, 255, 255, 0.8);">
                <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.2);">
                    <th style="text-align: left; padding: 0.75rem;">Code</th>
                    <th style="text-align: left; padding: 0.75rem;">Description</th>
                </tr>
                <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <td style="padding: 0.75rem;"><code>UNAUTHORIZED</code></td>
                    <td style="padding: 0.75rem;">Invalid or missing authentication token</td>
                </tr>
                <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <td style="padding: 0.75rem;"><code>VALIDATION_ERROR</code></td>
                    <td style="padding: 0.75rem;">Request validation failed</td>
                </tr>
                <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <td style="padding: 0.75rem;"><code>RATE_LIMIT_EXCEEDED</code></td>
                    <td style="padding: 0.75rem;">Rate limit exceeded</td>
                </tr>
                <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <td style="padding: 0.75rem;"><code>ENDPOINT_NOT_FOUND</code></td>
                    <td style="padding: 0.75rem;">API endpoint not found</td>
                </tr>
                <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <td style="padding: 0.75rem;"><code>INTERNAL_ERROR</code></td>
                    <td style="padding: 0.75rem;">Internal server error</td>
                </tr>
            </table>
        </div>

        <div class="card">
            <h2 style="color: #ffffff;">Code Examples</h2>
            
            <h3 style="color: #ffffff; margin-top: 1.5rem;">JavaScript</h3>
            <pre><code>const response = await fetch('https://your-site.netlify.app/.netlify/functions/api/fnol/create', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer YOUR_API_KEY'
  },
  body: JSON.stringify({
    policyholder: { name: 'John Doe', email: 'john@example.com' },
    policy: { policyNumber: 'POL-123', carrier: 'State Farm' },
    loss: { date: '2025-01-15', type: 'Water Damage' }
  })
});

const data = await response.json();
console.log(data);</code></pre>

            <h3 style="color: #ffffff; margin-top: 1.5rem;">Python</h3>
            <pre><code>import requests

response = requests.post(
    'https://your-site.netlify.app/.netlify/functions/api/fnol/create',
    headers={
        'Content-Type': 'application/json',
        'Authorization': 'Bearer YOUR_API_KEY'
    },
    json={
        'policyholder': {'name': 'John Doe', 'email': 'john@example.com'},
        'policy': {'policyNumber': 'POL-123', 'carrier': 'State Farm'},
        'loss': {'date': '2025-01-15', 'type': 'Water Damage'}
    }
)

data = response.json()
print(data)</code></pre>

            <h3 style="color: #ffffff; margin-top: 1.5rem;">cURL</h3>
            <pre><code>curl -X POST https://your-site.netlify.app/.netlify/functions/api/fnol/create \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{
    "policyholder": {"name": "John Doe", "email": "john@example.com"},
    "policy": {"policyNumber": "POL-123", "carrier": "State Farm"},
    "loss": {"date": "2025-01-15", "type": "Water Damage"}
  }'</code></pre>
        </div>
    </main>

    <script type="module" src="/app/assets/js/api-docs.js"></script>
</body>
</html>


